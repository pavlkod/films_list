{"version":3,"sources":["components/MovieItem/index.js","components/MovieList/index.js","components/MovieListWillWatch/index.js","components/MovieTabs/index.js","components/MoviePagination/index.js","App.js","utils/app.js","index.js"],"names":["MovieItem","data","removeItem","addMovieToWillWatch","removieMovieFromWillWatch","useState","willWatches","setWillWatches","className","backdrop_path","poster_path","src","alt","title","vote_average","type","onClick","bind","MovieList","map","movie","id","MovieListWillWatch","length","item","MovieTabs","sort_by","changeSort","name","sort","index","classnames","active","MoviePagination","page","totalPages","changePage","console","log","prevPage","nextPage","aria-label","disabled","data-page","tabIndex","App","movies","setMovies","moviesWillWatch","setMoviesWillWatch","sortBy","setSortBy","setPage","setTotalPages","useEffect","a","fetch","response","json","results","total_pages","error","getMovies","value","filterMovies","filter","totalPage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07fc51b2.chunk.js","sourcesContent":["import { useState } from \"react\";\r\n\r\nconst MovieItem = ({ data, removeItem, addMovieToWillWatch, removieMovieFromWillWatch }) => {\r\n  const [willWatches, setWillWatches] = useState(false);\r\n  return (\r\n    <div className=\"card\">\r\n      {data.backdrop_path && data.poster_path && (\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https:image.tmdb.org/t/p/w500${data.backdrop_path || data.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n      )}\r\n      <div className=\"card-body\">\r\n        <h6 className=\"card-title\">{data.title}</h6>\r\n        <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n          <p className=\"mb-0\">Рейтинг: {data.vote_average}</p>\r\n          {willWatches ? (\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-warning\"\r\n              onClick={() => {\r\n                setWillWatches(false);\r\n                removieMovieFromWillWatch.bind(null, data)();\r\n              }}\r\n            >\r\n              Удалить из просмотра\r\n            </button>\r\n          ) : (\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-success\"\r\n              onClick={() => {\r\n                setWillWatches(true);\r\n                addMovieToWillWatch.bind(null, data)();\r\n              }}\r\n            >\r\n              Добавить к просмотру\r\n            </button>\r\n          )}\r\n        </div>\r\n        <button className=\"btn btn-danger\" onClick={removeItem.bind(null, data)}>\r\n          Удалить фильм\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { MovieItem };\r\n","import { MovieItem } from \"../MovieItem\";\r\n\r\nconst MovieList = ({ data, removeItem, addMovieToWillWatch, removieMovieFromWillWatch }) => {\r\n  return (\r\n    <>\r\n      {data.map(movie => (\r\n        <div className=\"col-6 mb-4\" key={movie.id}>\r\n          <MovieItem\r\n            data={movie}\r\n            removeItem={removeItem}\r\n            addMovieToWillWatch={addMovieToWillWatch}\r\n            removieMovieFromWillWatch={removieMovieFromWillWatch}\r\n          />\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { MovieList };\r\n","import \"./index.scss\";\r\nconst MovieListWillWatch = ({ data }) => {\r\n  return (\r\n    <>\r\n      <p>К просмотру: {data.length}</p>\r\n      {data.length > 0 && (\r\n        <ul className=\"list-group\">\r\n          {data.map(item => (\r\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\" key={item.id}>\r\n              {item.title}\r\n              <span>{item.vote_average}</span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport { MovieListWillWatch };\r\n","import classnames from \"classnames\";\r\n\r\nconst MovieTabs = ({ sort_by, changeSort }) => {\r\n  const tabs = [\r\n    {\r\n      name: \"Популярность\",\r\n      sort: \"popularity.desc\",\r\n    },\r\n    {\r\n      name: \"Доход\",\r\n      sort: \"revenue.desc\",\r\n    },\r\n    {\r\n      name: \"Средняя оценка\",\r\n      sort: \"vote_average.desc\",\r\n    },\r\n  ];\r\n  return (\r\n    <ul className=\"tabs nav nav-pills\">\r\n      {tabs.map((item, index) => {\r\n        return (\r\n          <li className=\"nav-item\" onClick={changeSort.bind(null, item.sort)} key={index}>\r\n            <div className={classnames(\"nav-link\", { active: sort_by === item.sort })}>{item.name}</div>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport { MovieTabs };\r\n","import classnames from \"classnames\";\r\nimport \"./index.scss\";\r\n\r\nconst MoviePagination = ({ data: { page, totalPages }, changePage }) => {\r\n  console.log(page, totalPages);\r\n  const prevPage = page - 1;\r\n  const nextPage = page + 1;\r\n  return (\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul className=\"pagination justify-content-center\">\r\n        <li\r\n          className={classnames(\"page-item\", \"page-item--hover\", { disabled: page <= 1 })}\r\n          onClick={changePage.bind(null, prevPage, totalPages)}\r\n          data-page={prevPage}\r\n        >\r\n          <span className=\"page-link\" tabIndex=\"-1\">\r\n            Назад\r\n          </span>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <span className=\"page-link\">{page}</span>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <span className=\"page-link\">{totalPages}</span>\r\n        </li>\r\n        <li\r\n          className={classnames(\"page-item\", \"page-item--hover\", { disabled: page >= totalPages })}\r\n          onClick={changePage.bind(null, nextPage, totalPages)}\r\n          data-page={nextPage}\r\n        >\r\n          <span className=\"page-link\">Вперед</span>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\nexport { MoviePagination };\r\n","import { useEffect, useState } from \"react\";\nimport { MovieList } from \"./components/MovieList\";\n\nimport { MovieListWillWatch } from \"./components/MovieListWillWatch\";\nimport { API_KEY_3, API_URL } from \"./utils/app\";\nimport { MovieTabs } from \"./components/MovieTabs\";\nimport { MoviePagination } from \"./components/MoviePagination\";\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [moviesWillWatch, setMoviesWillWatch] = useState([]);\n  const [sortBy, setSortBy] = useState(\"popularity.desc\");\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  useEffect(() => {\n    const getMovies = async () => {\n      try {\n        const response = await fetch(\n          `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${sortBy}&language=ru-RU&page=${page}`\n        );\n        const { results, total_pages } = await response.json();\n\n        setMovies(results);\n        setTotalPages(total_pages);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    getMovies();\n  }, [sortBy, page]);\n\n  const removeItem = data => {\n    const filterMovies = movies.filter(movie => movie.id !== data.id);\n    setMovies(filterMovies);\n  };\n  const removieMovieFromWillWatch = data => {\n    const filterMovies = moviesWillWatch.filter(movie => movie.id !== data.id);\n    setMoviesWillWatch(filterMovies);\n  };\n\n  const addMovieToWillWatch = movie => setMoviesWillWatch([...moviesWillWatch, movie]);\n\n  const changeSort = value => setSortBy(value);\n  const changePage = (page, totalPage) => {\n    if (!page || page > totalPage) {\n      return;\n    }\n    setPage(page);\n  };\n\n  return (\n    <div className=\"App container mt-5\">\n      <div className=\"row\">\n        <div className=\"col-9\">\n          <div className=\"row\">\n            <div className=\"col-12 mb-4\">\n              <MovieTabs sort_by={sortBy} changeSort={changeSort} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <MovieList\n              data={movies}\n              removeItem={removeItem}\n              addMovieToWillWatch={addMovieToWillWatch}\n              removieMovieFromWillWatch={removieMovieFromWillWatch}\n            />\n            {totalPages > 1 && <MoviePagination data={{ page, totalPages }} changePage={changePage} />}\n          </div>\n        </div>\n        <div className=\"col-3\">\n          <div className=\"sticky-block\">\n            <MovieListWillWatch data={moviesWillWatch} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}