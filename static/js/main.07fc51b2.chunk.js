(this.webpackJsonpfilms_list=this.webpackJsonpfilms_list||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),i=a(8),r=a.n(i),l=a(10),o=a(7),d=a.n(o),j=a(9),b=a(2),m=function(e){var t=e.data,a=e.removeItem,s=e.addMovieToWillWatch,i=e.removieMovieFromWillWatch,r=Object(n.useState)(!1),l=Object(b.a)(r,2),o=l[0],d=l[1];return Object(c.jsxs)("div",{className:"card",children:[t.backdrop_path&&t.poster_path&&Object(c.jsx)("img",{className:"card-img-top",src:"https:image.tmdb.org/t/p/w500".concat(t.backdrop_path||t.poster_path),alt:""}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h6",{className:"card-title",children:t.title}),Object(c.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[Object(c.jsxs)("p",{className:"mb-0",children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",t.vote_average]}),o?Object(c.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){d(!1),i.bind(null,t)()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430"}):Object(c.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){d(!0),s.bind(null,t)()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443"})]}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:a.bind(null,t),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"})]})]})},u=function(e){var t=e.data,a=e.removeItem,n=e.addMovieToWillWatch,s=e.removieMovieFromWillWatch;return Object(c.jsx)(c.Fragment,{children:t.map((function(e){return Object(c.jsx)("div",{className:"col-6 mb-4",children:Object(c.jsx)(m,{data:e,removeItem:a,addMovieToWillWatch:n,removieMovieFromWillWatch:s})},e.id)}))})},h=(a(17),function(e){var t=e.data;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("p",{children:["\u041a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443: ",t.length]}),t.length>0&&Object(c.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(c.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.title,Object(c.jsx)("span",{children:e.vote_average})]},e.id)}))})]})}),p=a(4),v=a.n(p),O=function(e){var t=e.sort_by,a=e.changeSort;return Object(c.jsx)("ul",{className:"tabs nav nav-pills",children:[{name:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c",sort:"popularity.desc"},{name:"\u0414\u043e\u0445\u043e\u0434",sort:"revenue.desc"},{name:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430",sort:"vote_average.desc"}].map((function(e,n){return Object(c.jsx)("li",{className:"nav-item",onClick:a.bind(null,e.sort),children:Object(c.jsx)("div",{className:v()("nav-link",{active:t===e.sort}),children:e.name})},n)}))})},x=(a(18),function(e){var t=e.data,a=t.page,n=t.totalPages,s=e.changePage;console.log(a,n);var i=a-1,r=a+1;return Object(c.jsx)("nav",{"aria-label":"Page navigation example",children:Object(c.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(c.jsx)("li",{className:v()("page-item","page-item--hover",{disabled:a<=1}),onClick:s.bind(null,i,n),"data-page":i,children:Object(c.jsx)("span",{className:"page-link",tabIndex:"-1",children:"\u041d\u0430\u0437\u0430\u0434"})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("span",{className:"page-link",children:a})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("span",{className:"page-link",children:n})}),Object(c.jsx)("li",{className:v()("page-item","page-item--hover",{disabled:a>=n}),onClick:s.bind(null,r,n),"data-page":r,children:Object(c.jsx)("span",{className:"page-link",children:"\u0412\u043f\u0435\u0440\u0435\u0434"})})]})})});var g=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)([]),r=Object(b.a)(i,2),o=r[0],m=r[1],p=Object(n.useState)("popularity.desc"),v=Object(b.a)(p,2),g=v[0],f=v[1],N=Object(n.useState)(1),k=Object(b.a)(N,2),W=k[0],y=k[1],_=Object(n.useState)(1),w=Object(b.a)(_,2),M=w[0],S=w[1];return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("3f4ca4f3a9750da53450646ced312397","&sort_by=").concat(g,"&language=ru-RU&page=").concat(W));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c=a.results,n=a.total_pages,s(c),S(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[g,W]),Object(c.jsx)("div",{className:"App container mt-5",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-9",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12 mb-4",children:Object(c.jsx)(O,{sort_by:g,changeSort:function(e){return f(e)}})})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)(u,{data:a,removeItem:function(e){var t=a.filter((function(t){return t.id!==e.id}));s(t)},addMovieToWillWatch:function(e){return m([].concat(Object(l.a)(o),[e]))},removieMovieFromWillWatch:function(e){var t=o.filter((function(t){return t.id!==e.id}));m(t)}}),M>1&&Object(c.jsx)(x,{data:{page:W,totalPages:M},changePage:function(e,t){!e||e>t||y(e)}})]})]}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)("div",{className:"sticky-block",children:Object(c.jsx)(h,{data:o})})})]})})};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.07fc51b2.chunk.js.map